<!DOCTYPE html>
<html lang="en">
<head>
  <title>Welcome Service Website</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- owl carousel css link -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  
<!-- owl carousel theme.css link -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"> 

<!-- range slider css-->
<link rel="stylesheet" href="/static/css/pricerangefilter.css">
<!-- owl carousel js file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

<!-- price range filter-->

</head>
<body>
    <div class="row bg-light">
        <div class="col-md-2">
            <nav class="navbar navbar-light ">
                <a class="navbar-brand" href="#">Service Website</a>
              </nav>
        </div>
        <div class="col-md-1 mt-2 ">
          <button class="btn dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Category
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <!-- <button class="dropdown-item" type="button">Action</button> -->
          
            
            <a href="/account/?category=IT Service" class="dropdown-item">IT Service</a>
            <a href="/account/?category=Cleaning Service" class="dropdown-item">Cleaning Service</a>
            <a href="/account/?category=Electric Service" class="dropdown-item">Electric Service</a>
            <a href="/account/?category=others" class="dropdown-item">Others Service</a>
            <a href="/account/" class="dropdown-item">All Service</a>
          </div>
          <!-- <form action="/account/?category=" method="get">
          <select name="category" class="form-control"  id ="category"  >
            <option value="service3"><a href="/account/?category=service3">3</a> </option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
          </select>
        </form> -->
        </div>
        <div class="col-md-6 mt-2 pl-2">
              <form class="form-inline">
                <input class="form-control mr-sm-2 filter" onkeyup="searchService()" type="Search.." placeholder="Search" aria-label="Search" id="filter">
              </form>
        </div>
        
        <div class="col-md-3 ">
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <!-- <a class="navbar-brand" href="#">Service Website</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button> -->
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'register' %}">Registration</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'login_view' %}">Log In</a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
    
    </div>
     
    <div class="container">
        
        <!---range slider-->
        <div class="d-flex">
            <form action="" method="get">
            <div class="wrapper">
              <!-- <header>
                <h2>Price Range</h2>
                <p>Use slider or enter min and max price</p>
              </header> -->
              <h5>price range</h5>
              <div class="price-input">
                <div class="field">
                  <span>Min</span>
                  <!-- value="2500" -->
                  <input type="number" class="input-min" value="{{minimumvalue}}"  name="minimum">
                </div>
                <div class="separator">-</div>
                <div class="field">
                  <span>Max</span>
                  <!-- value="7500" -->
                  <input type="number" class="input-max" value="{{maximumvalue}}" name="maximum">
                </div>
              </div>
              <div class="slider">
                <!-- <div class="progress"></div> -->
              </div>
              <div class="range-input">
                <!-- value="2500" -->
                <!-- value="7500" -->
                <input type="range" class="range-min" min="0" max="10000" value="{{minimumvalue}}"  step="100">
                <input type="range" class="range-max" min="0" max="10000" value="{{maximumvalue}}"  step="100">
              </div>
              <button type="submit" value="filter" class="btn btn-warning btn-block mt-2">Filter</button>
            </div>
        </form>
        
          </div>
        <!-- {% for cart in cartvalue %}
        <h6>{{cart.servicetitle}}</h6>
        {% endfor %} -->
        <div class="row pt-1" id="service-list">
          {% for data in servicedataset %}
                  <div class="card col-sm-5 mt-3 ml-3">
                          <div class="card-body" >
                          <!-- <h4 class="card-title"> <a href="/service/singleservice/{{data.id}}" class="text-danger">{{ data.servicetitle }} </a></h4> -->
                          <h4 class="card-title text-danger"> {{ data.servicetitle }}</h4>  
                          <p class="card-text">{{data.servicedetails}}</p>
                            <h6><a href="/account/?category={{data.servicecategory}}">{{data.servicecategory}}</a></h6>
                            <h7>{{data.servicelocation}}</h7>
                            <h5 class="text-center pt-3">{{data.serviceprice}}tk</h5>
                              <span class="badge  badge-dark">{{data.user}}</span>
                              <!-- <h5 class="text-center pt-3">{{data.user.id}}</h5> -->
                          </div>
                       <!-- <a href="/cart/addtocart?userid={{user.id}}&serviceid={{data.id}}"class="btn btn-success"> Add To Cart</a> -->
                       <!-- <a href="/cart/addtocart?userid={{user.id}}&serviceid={{data.id}}&servicetitle={{data.servicetitle}}&serviceprice={{data.serviceprice}}"class="btn btn-success"> Add To Cart</a> -->
                       <a href="{% url 'login_view' %}"class="btn btn-success"> Add To Cart</a>
                      </div>
          {% endfor %}
      </div>
    </div>
    <div class="container mt-3">
        <h3 class="badge badge-warning">Feature Service</h3>
    <div class="owl-carousel owl-theme">
        {% for data in feature %}
        <div class="item">
            <div class="card col-sm-12 mt-3 ml-3">
                <div class="card-body" >
                <!-- <h4 class="card-title"> <a href="/service/singleservice/{{data.id}}" class="text-danger">{{ data.servicetitle }} </a></h4> -->
                <h4 class="card-title text-danger"> {{ data.servicetitle }}</h4>  
                <p class="card-text">{{data.servicedetails}}</p>
                  <h6><a href="/account/?category={{data.servicecategory}}">{{data.servicecategory}}</a></h6>
                  <h7>{{data.servicelocation}}</h7>
                  <h5 class="text-center pt-3">{{data.serviceprice}}tk</h5>
                    <span class="badge  badge-dark">{{data.user}}</span>
                    <!-- <h5 class="text-center pt-3">{{data.user.id}}</h5> -->
                </div>
             <!-- <a href="/cart/addtocart?userid={{user.id}}&serviceid={{data.id}}"class="btn btn-success"> Add To Cart</a> -->
             <!-- <a href="/cart/addtocart?userid={{user.id}}&serviceid={{data.id}}&servicetitle={{data.servicetitle}}&serviceprice={{data.serviceprice}}"class="btn btn-success"> Add To Cart</a> -->
             <a href="{% url 'login_view' %}"class="btn btn-success"> Add To Cart</a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
    <script>  
        // function Order(){
        //   console.log("button clicked")
        // }
      function searchService(){
        const input = document.getElementById("filter").value.toUpperCase();
        console.log(input)
        const servicelistContainer = document.getElementById("service-list")
        const card = servicelistContainer.getElementsByClassName("card")
        console.log(card)
        for (i=0; i<card.length;i++){
          let title = card[i].querySelector(".card-body h4.card-title")
          console.log(title)
          if(title.innerText.toUpperCase().indexOf(input)>-1){
            card[i].style.display="";
          }
          else{
            card[i].style.display="none";
          }
        }
      }
      ///category serach
      // function categorySearch(){
        // const category = document.getElementById("category").value
        // console.log(category)
        // const category = document.getElementById("category").value.toUpperCase();
        // console.log(category)

      // }
      // categorySearch()
      </script>
      <!-- for price ranger filter -->
      <script>
        const rangeInput = document.querySelectorAll(".range-input input"),
  priceInput = document.querySelectorAll(".price-input input"),
  range = document.querySelector(".slider .progress");
let priceGap = 1000;

priceInput.forEach((input) => {
  input.addEventListener("input", (e) => {
    let minPrice = parseInt(priceInput[0].value),
      maxPrice = parseInt(priceInput[1].value);

    if (maxPrice - minPrice >= priceGap && maxPrice <= rangeInput[1].max) {
      if (e.target.className === "input-min") {
        rangeInput[0].value = minPrice;
        range.style.left = (minPrice / rangeInput[0].max) * 100 + "%";
      } else {
        rangeInput[1].value = maxPrice;
        range.style.right = 100 - (maxPrice / rangeInput[1].max) * 100 + "%";
      }
    }
  });
});

rangeInput.forEach((input) => {
  input.addEventListener("input", (e) => {
    let minVal = parseInt(rangeInput[0].value),
      maxVal = parseInt(rangeInput[1].value);

    if (maxVal - minVal < priceGap) {
      if (e.target.className === "range-min") {
        rangeInput[0].value = maxVal - priceGap;
      } else {
        rangeInput[1].value = minVal + priceGap;
      }
    } else {
      priceInput[0].value = minVal;
      priceInput[1].value = maxVal;
      range.style.left = (minVal / rangeInput[0].max) * 100 + "%";
      range.style.right = 100 - (maxVal / rangeInput[1].max) * 100 + "%";
    }
  });
});
      </script>
<script>
    $('.owl-carousel').owlCarousel({
    loop:true,
    margin:4,
    nav:false,
    responsive:{
        0:{
            items:1
        },
        600:{
            items:2
        },
        1000:{
            items:3
        }
    }
})
</script>
</body>
</html>




